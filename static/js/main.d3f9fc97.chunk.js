(this["webpackJsonpcovid-19-tracker"]=this["webpackJsonpcovid-19-tracker"]||[]).push([[0],{155:function(e,t,a){},157:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(44),s=a.n(c),o=a(1),i=a.n(o),u=a(2),l=a(45),d=a(46),m=a(48),f=a(47),p=a(27),h=a(16),v=a.n(h),b=function(e){var t=e.data,a=t.confirmed,n=t.recovered,c=t.deaths,s=t.lastUpdate;return a?r.a.createElement("div",{className:"container mt-3"},r.a.createElement("div",{className:"row",style:{justifyContent:"center"}},r.a.createElement("div",{className:"card shadow bg-light col-md-3 mx-3 mb-3 rounded border-primary"},r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",{className:"card-title",id:"title"},"Infected"),r.a.createElement(v.a,{start:0,end:a.value,duration:3,delay:1,prefix:"confirmed cases: ",className:"text-primary"}),r.a.createElement("p",{className:"card-text"},"LastUpdate: ",new Date(s).toDateString()))),r.a.createElement("div",{className:"card shadow bg-light col-md-3 mx-3 mb-3 rounded border-success"},r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",{className:"card-title"},"Recovered"),r.a.createElement(v.a,{start:0,end:n.value,duration:3,delay:1,prefix:"confirmed cases: ",className:"text-success"}),r.a.createElement("p",{className:"card-text"},"LastUpdate: ",new Date(s).toDateString()))),r.a.createElement("div",{className:"card shadow  bg-light col-md-3 mx-3 mb-3 rounded border-danger"},r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",{className:"card-title"},"Deaths"),r.a.createElement(v.a,{start:0,end:c.value,duration:3,delay:1,prefix:"confirmed cases: ",className:"text-danger"}),r.a.createElement("p",{className:"card-text"},"LastUpdate: ",new Date(s).toDateString()))))):"loading"},y="https://covid19.mathdro.id/api",g=function(){var e=Object(u.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=y,t&&(a=y+"/countries/"+t),e.next=4,fetch(a).then((function(e){return e.json()})).then((function(e){return{confirmed:e.confirmed,recovered:e.recovered,deaths:e.deaths,lastUpdate:e.lastUpdate}})).catch((function(e){throw console.log(e),e}));case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),E=function(){var e=Object(u.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y+"/daily",e.next=3,fetch("https://covid19.mathdro.id/api/daily").then((function(e){return e.json()})).then((function(e){return e.map((function(e){var t=e.totalConfirmed,a=e.deaths,n=e.reportDate;return{totalConfirmed:t,deaths:a.total,reportDate:n}}))})).catch((function(e){throw console.log(e),e}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),w=function(){var e=Object(u.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y+"/countries",e.next=3,fetch("https://covid19.mathdro.id/api/countries").then((function(e){return e.json()})).then((function(e){return e.countries.map((function(e){return e.name}))})).catch((function(e){throw console.log(e),e}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),x=a(15);var C=function(e){var t=Object(n.useState)([]),a=Object(x.a)(t,2),c=a[0],s=a[1];Object(n.useEffect)((function(){(function(){var e=Object(u.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=s,e.next=3,w();case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var o=c.map((function(e){return r.a.createElement("option",{value:e,key:e},e)}));return r.a.createElement("form",{style:{textAlign:"center"}},r.a.createElement("label",{style:{color:"grey",fontWeight:"bold"}},"Covid-19 Daily Stats"),r.a.createElement("select",{onChange:function(t){return e.handleChange(t.target.value)},className:"custom-select mr-sm-2"},r.a.createElement("option",null,"Daily stats..."),o))},j=a(26);var N=function(e){var t=e.selectCountries,a=t.confirmed,c=t.deaths,s=t.recovered,o=Object(n.useState)([]),l=Object(x.a)(o,2),d=l[0],m=l[1];Object(n.useEffect)((function(){(function(){var e=Object(u.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E();case 2:t=e.sent,m(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var f=a?r.a.createElement(j.Bar,{data:{labels:["Infected","Recovered","Deaths"],datasets:[{backgroundColor:["rgba(0, 0, 255, 0.5)","rgba(0, 255, 0, 0.5)","rgba(255, 0, 0, 0.5)"],data:[a.value,s.value,c.value]}]},options:{legend:{display:!1},title:{display:!0,text:"Current state in ".concat(e.country)}}}):null,p=d[0]?r.a.createElement(j.Line,{data:{labels:d.map((function(e){return e.reportDate})),datasets:[{data:d.map((function(e){return e.totalConfirmed})),label:"confirmed cases",borderColor:"rgba(0, 123, 255, 0.7)"},{data:d.map((function(e){return e.deaths})),label:"death cases",borderColor:"rgba(220, 53, 69, 0.7)",backgroundColor:"#f4c2c2",fill:!0}]}}):null;return r.a.createElement("div",{className:"my-5"},a?f:p)};p.a.initialize("UA-175814960-2");var k=function(e){Object(m.a)(a,e);var t=Object(f.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).handleChange=function(){var t=Object(u.a)(i.a.mark((function t(a){var n,r,c,s,o;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g(a);case 2:n=t.sent,r=n.confirmed,c=n.deaths,s=n.lastUpdate,o=n.recovered,e.setState({country:a,selectCountries:{confirmed:r,deaths:c,lastUpdate:s,recovered:o}});case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.style={color:"white",textShadow:"2px 2px 4px #000000",fontWeight:"bold"},e.state={cardData:{},selectCountries:[],country:""},p.a.pageview(window.location.pathname+window.location.search),e}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=Object(u.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g();case 2:t=e.sent,this.setState({cardData:t});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement("h1",{className:"title mt-5",style:this.style},"Covid-19 Tracker"),r.a.createElement(b,{data:this.state.cardData}),r.a.createElement(C,{handleChange:this.handleChange}),r.a.createElement(N,{country:this.state.country,selectCountries:this.state.selectCountries}))}}]),a}(n.Component);a(155),a(156);s.a.render(r.a.createElement(k,null),document.getElementById("root"))},49:function(e,t,a){e.exports=a(157)}},[[49,1,2]]]);
//# sourceMappingURL=main.d3f9fc97.chunk.js.map